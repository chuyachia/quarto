!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=["cylinder hole light","cylinder hole dark","cube hole light","cube hole dark","cylinder hole short","cylinder hole short dark","cube hole short","cube hole short dark","cylinder","cylinder dark","cube","cube dark","cylinder short","cylinder short dark","cube short","cube short dark"],t=Handlebars.compile(document.getElementById("cubeTemplate").innerHTML),n=Handlebars.compile(document.getElementById("cylinderTemplate").innerHTML);return{getAllPieces:function(){return e.reduce(function(e,r,a){return r.match("cube")?e+t({class:r,id:a}):e+n({class:r,id:a})},"")}}}()},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0));!function(){var e=io.connect("https://quarto-game-ccyqc.c9users.io/"),t=document.getElementById("waitzone"),n=document.getElementById("messagebox"),a=document.getElementById("overlay"),o=document.getElementById("placezone"),i={waitforjoin:"Waiting for another player to join the game",waitformove:"Waiting for the other player to act",ready:"Game ready to start! Waiting for the other player to act",give:'Click a piece to give it to the other player or click <em class="quarto">Quarto!</em> if you think you just made a line.',place:"Drap the highlighted piece and drop on the desired cell."};function l(r){var o=r.target;"FIGURE"==o.nodeName&&(o=o.parentElement),o.setAttribute("draggable","true"),t.removeEventListener("click",l),t.classList.remove("selectable"),e.emit("given",{pieceid:o.id,roomname:room}),n.innerHTML=i.waitformove,a.classList.remove("hide")}e.on("tell room",function(){console.log("tell room"),e.emit("room name",{room:room})}),e.on("new room created",function(){console.log("Created a new game")}),e.on("new player joined",function(){console.log("Game ready to start!"),a.classList.add("hide"),n.innerHTML=i.ready}),e.on("pick one",function(){n.innerHTML=i.give,t.addEventListener("click",l),t.classList.add("selectable")}),e.on("wait",function(){n.innerHTML=i.waitformove}),e.on("toplace",function(e){a.classList.add("hide"),function(e){document.getElementById(e).setAttribute("draggable","true")}(e.pieceid),n.innerHTML=i.place}),e.on("tochange",function(e){!function(e,t){var n=document.getElementById(e);n.removeAttribute("draggable");var r=document.getElementById(t);n.parentElement.removeChild(n),r.append(n)}(e.pieceid,e.cellid)}),t.innerHTML=r.default.getAllPieces(),t.addEventListener("dragstart",function(e){var t=e.target;"FIGURE"==t.nodeName&&(t=t.parentElement),e.dataTransfer.setData("text",t.id)}),o.addEventListener("dragover",function(e){e.preventDefault(),"DIV"===e.target.tagName&&1===e.target.children.length||(e.dataTransfer.dropEffect="none")}),o.addEventListener("dragenter",function(e){if(e.preventDefault(),"DIV"==e.target.tagName){var t=e.target;t.className.match("base")||(t=t.children[0]),1===t.parentElement.children.length&&t.classList.add("shine")}}),o.addEventListener("dragleave",function(e){if(e.preventDefault(),"DIV"==e.target.tagName){var t=e.target;t.className.match("base")||(t=t.children[0]),1===t.parentElement.children.length&&t.classList.remove("shine")}}),o.addEventListener("drop",function(r){if(r.preventDefault(),"DIV"==r.target.tagName&&r.target.children.length<=1){var a=r.target;a.className.match("stage")||(a=a.parentElement),a.children[0].classList.remove("shine");var o=r.dataTransfer.getData("text");document.getElementById(o)&&(document.getElementById(o).removeAttribute("draggable"),a.append(document.getElementById(o)),n.innerHTML=i.give,e.emit("placed",{pieceid:o,cellid:a.id,roomname:room}),t.addEventListener("click",l),t.classList.add("selectable"))}}),n.innerHTML=i.waitforjoin}()}]);
//# sourceMappingURL=bundle.js.map