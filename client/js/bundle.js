!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=56)}([function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(9),i=n(32),a=Object.prototype.toString;function s(t){return"[object Array]"===a.call(t)}function u(t){return null!==t&&"object"===(void 0===t?"undefined":r(t))}function l(t){return"[object Function]"===a.call(t)}function c(t,e){if(null!==t&&void 0!==t)if("object"!==(void 0===t?"undefined":r(t))&&(t=[t]),s(t))for(var n=0,o=t.length;n<o;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:s,isArrayBuffer:function(t){return"[object ArrayBuffer]"===a.call(t)},isBuffer:i,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:u,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===a.call(t)},isFile:function(t){return"[object File]"===a.call(t)},isBlob:function(t){return"[object Blob]"===a.call(t)},isFunction:l,isStream:function(t){return u(t)&&l(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function t(){var e={};function n(n,o){"object"===r(e[o])&&"object"===(void 0===n?"undefined":r(n))?e[o]=t(e[o],n):e[o]=n}for(var o=0,i=arguments.length;o<i;o++)c(arguments[o],n);return e},extend:function(t,e,n){return c(e,function(e,r){t[r]=n&&"function"==typeof e?o(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.__esModule=!0,e.extend=u,e.indexOf=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},e.escapeExpression=function(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}if(!a.test(t))return t;return t.replace(i,s)},e.isEmpty=function(t){return!t&&0!==t||!(!f(t)||0!==t.length)},e.createFrame=function(t){var e=u({},t);return e._parent=t,e},e.blockParams=function(t,e){return t.path=e,t},e.appendContextPath=function(t,e){return(t?t+".":"")+e};var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},i=/[&<>"'`=]/g,a=/[&<>"'`=]/;function s(t){return o[t]}function u(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}var l=Object.prototype.toString;e.toString=l;var c=function(t){return"function"==typeof t};c(/x/)&&(e.isFunction=c=function(t){return"function"==typeof t&&"[object Function]"===l.call(t)}),e.isFunction=c;var f=Array.isArray||function(t){return!(!t||"object"!==(void 0===t?"undefined":r(t)))&&"[object Array]"===l.call(t)};e.isArray=f},function(t,e,n){"use strict";e.__esModule=!0;var r=["description","fileName","lineNumber","message","name","number","stack"];function o(t,e){var n=e&&e.loc,i=void 0,a=void 0;n&&(t+=" - "+(i=n.start.line)+":"+(a=n.start.column));for(var s=Error.prototype.constructor.call(this,t),u=0;u<r.length;u++)this[r[u]]=s[r[u]];Error.captureStackTrace&&Error.captureStackTrace(this,o);try{n&&(this.lineNumber=i,Object.defineProperty?Object.defineProperty(this,"column",{value:a,enumerable:!0}):this.column=a)}catch(t){}}o.prototype=new Error,e.default=o,t.exports=e.default},function(t,e,n){"use strict";t.exports=n(53).default},function(t,e,n){"use strict";(function(e){var r=n(0),o=n(29),i={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s={adapter:function(){var t;return"undefined"!=typeof XMLHttpRequest?t=n(8):void 0!==e&&(t=n(8)),t}(),transformRequest:[function(t,e){return o(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(t){s.headers[t]={}}),r.forEach(["post","put","patch"],function(t){s.headers[t]=r.merge(i)}),t.exports=s}).call(this,n(30))},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";var r=n(27);t.exports=function(t,e,n,o,i){var a=new Error(t);return r(a,e,n,o,i)}},function(t,e,n){"use strict";var r=n(0),o=n(28),i=n(26),a=n(25),s=n(24),u=n(7),l="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(23);t.exports=function(t){return new Promise(function(e,c){var f=t.data,d=t.headers;r.isFormData(f)&&delete d["Content-Type"];var h=new XMLHttpRequest,p="onreadystatechange",m=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in h||s(t.url)||(h=new window.XDomainRequest,p="onload",m=!0,h.onprogress=function(){},h.ontimeout=function(){}),t.auth){var g=t.auth.username||"",v=t.auth.password||"";d.Authorization="Basic "+l(g+":"+v)}if(h.open(t.method.toUpperCase(),i(t.url,t.params,t.paramsSerializer),!0),h.timeout=t.timeout,h[p]=function(){if(h&&(4===h.readyState||m)&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in h?a(h.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?h.response:h.responseText,status:1223===h.status?204:h.status,statusText:1223===h.status?"No Content":h.statusText,headers:n,config:t,request:h};o(e,c,r),h=null}},h.onerror=function(){c(u("Network Error",t,null,h)),h=null},h.ontimeout=function(){c(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",h)),h=null},r.isStandardBrowserEnv()){var y=n(22),w=(t.withCredentials||s(t.url))&&t.xsrfCookieName?y.read(t.xsrfCookieName):void 0;w&&(d[t.xsrfHeaderName]=w)}if("setRequestHeader"in h&&r.forEach(d,function(t,e){void 0===f&&"content-type"===e.toLowerCase()?delete d[e]:h.setRequestHeader(e,t)}),t.withCredentials&&(h.withCredentials=!0),t.responseType)try{h.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&h.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){h&&(h.abort(),c(t),h=null)}),void 0===f&&(f=null),h.send(f)})}},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.HandlebarsEnvironment=l;var o=n(1),i=r(n(2)),a=n(52),s=n(44),u=r(n(42));e.VERSION="4.0.11";e.COMPILER_REVISION=7;e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};function l(t,e,n){this.helpers=t||{},this.partials=e||{},this.decorators=n||{},a.registerDefaultHelpers(this),s.registerDefaultDecorators(this)}l.prototype={constructor:l,logger:u.default,log:u.default.log,registerHelper:function(t,e){if("[object Object]"===o.toString.call(t)){if(e)throw new i.default("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if("[object Object]"===o.toString.call(t))o.extend(this.partials,t);else{if(void 0===e)throw new i.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if("[object Object]"===o.toString.call(t)){if(e)throw new i.default("Arg not supported with multiple decorators");o.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]}};var c=u.default.log;e.log=c,e.createFrame=o.createFrame,e.logger=u.default},function(t,e,n){"use strict";var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(n,s){"object"===a(e)&&void 0!==t?s(e):(o=[e],void 0===(i="function"==typeof(r=s)?r.apply(e,o):r)||(t.exports=i))}(0,function(t){function e(t){return t===document.body||t===document.documentElement}function n(t,n){var r;if(e(t))r=0===n?t.clientLeft:t.clientTop;else{var o=t.getBoundingClientRect();r=0===n?o.left:o.top}return r}function r(t,n){return e(t)?0===n?window.innerWidth:window.innerHeight:0===n?t.clientWidth:t.clientHeight}function o(t,n,r){var o=0===n?"scrollLeft":"scrollTop",i=e(t);if(2===arguments.length)return i?document.body[o]||document.documentElement[o]:t[o];i?(document.documentElement[o]+=r,document.body[o]+=r):t[o]+=r}function i(t){var e=getComputedStyle(t);return t.scrollHeight>t.clientHeight&&("scroll"===e.overflowY||"auto"===e.overflowY)||t.scrollWidth>t.clientWidth&&("scroll"===e.overflowX||"auto"===e.overflowX)}function a(t,e,n){return t<n?-1:e-t<n?1:0}function s(t,e,n,r){return-1===t?Math.abs(e-r):1===t?Math.abs(n-e-r):0}function u(t,e,n){var r=0===t?n.scrollX:n.scrollY;return 1===e?r>=(0===t?n.scrollWidth-n.width:n.scrollHeight-n.height):-1!==e||r<=0}var l,c,f,d,h,p={threshold:75,velocityFn:function(t,e){var n=t/e;return n*n*n*e}},m={horizontal:0,vertical:0},g={x:0,y:0};function v(){l||(l=window.requestAnimationFrame(y))}function y(){var t=0,n=0,r=e(d);0!==m.horizontal&&(t=Math.round(p.velocityFn(g.x,p.threshold)*m.horizontal),o(d,0,t)),0!==m.vertical&&(n=Math.round(p.velocityFn(g.y,p.threshold)*m.vertical),o(d,1,n)),r?h(t,n):h(0,0),l=null,w(c,d,p.threshold,m,g)&&v()}function w(t,e,i,l,c){if(!t||!e)return!1;var f={x:n(e,0),y:n(e,1),width:r(e,0),height:r(e,1),scrollX:o(e,0),scrollY:o(e,1),scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight},d={x:t.x-f.x,y:t.y-f.y};return l.horizontal=a(d.x,f.width,i),l.vertical=a(d.y,f.height,i),l.horizontal&&u(0,l.horizontal,f)?l.horizontal=0:l.horizontal&&(c.x=s(l.horizontal,d.x,f.width,i)),l.vertical&&u(1,l.vertical,f)?l.vertical=0:l.vertical&&(c.y=s(l.vertical,d.y,f.height,i)),!(!l.horizontal&&!l.vertical)}var b=function(t,e,n,r){c=e,h=r,f!==n&&(d=function(t){do{if(!t)return;if(i(t))return t;if(t===document.documentElement)return null}while(t=t.parentNode);return null}(f=n)),w(c,d,p.threshold,m,g)?v():l&&(window.cancelAnimationFrame(l),l=null)};t.scrollBehaviourDragImageTranslateOverride=b,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){"use strict";var r,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(n,s){"object"==a(e)&&void 0!==t?s(e):(o=[e],void 0===(i="function"==typeof(r=s)?r.apply(e,o):r)||(t.exports=i))}(0,function(t){var e="dnd-poly-",n=["none","copy","copyLink","copyMove","link","linkMove","move","all"],r=["none","copy","move","link"],o=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}();function i(t){return t&&t.tagName}function a(t,e,n){void 0===n&&(n=!0),document.addEventListener(t,e,!!o&&{passive:n})}function s(t,e){document.removeEventListener(t,e)}function u(t,e,n,r){void 0===r&&(r=!1);var i=o?{passive:!0,capture:r}:r;return t.addEventListener(e,n,i),{off:function(){t.removeEventListener(e,n,i)}}}function l(t){return 0===t.length?0:t.reduce(function(t,e){return e+t},0)/t.length}function c(t,e){for(var n=0;n<t.changedTouches.length;n++)if(t.changedTouches[n].identifier===e)return!0;return!1}function f(t,e,n){for(var r=[],o=[],i=0;i<e.touches.length;i++){var a=e.touches[i];r.push(a[t+"X"]),o.push(a[t+"Y"])}n.x=l(r),n.y=l(o)}var d=["","-webkit-"];function h(t,e,n,r,o){void 0===o&&(o=!0);var i=e.x,a=e.y;r&&(i+=r.x,a+=r.y),o&&(i-=parseInt(t.offsetWidth,10)/2,a-=parseInt(t.offsetHeight,10)/2);for(var s="translate3d("+i+"px,"+a+"px, 0)",u=0;u<d.length;u++){var l=d[u]+"transform";t.style[l]=s+" "+n[u]}}var p=function(){function t(t,e){this.t=t,this.i=e,this.s=r[0]}return Object.defineProperty(t.prototype,"dropEffect",{get:function(){return this.s},set:function(t){0!==this.t.mode&&n.indexOf(t)>-1&&(this.s=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"types",{get:function(){if(0!==this.t.mode)return Object.freeze(this.t.types)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"effectAllowed",{get:function(){return this.t.effectAllowed},set:function(t){2===this.t.mode&&n.indexOf(t)>-1&&(this.t.effectAllowed=t)},enumerable:!0,configurable:!0}),t.prototype.setData=function(t,e){if(2===this.t.mode){if(t.indexOf(" ")>-1)throw new Error("illegal arg: type contains space");this.t.data[t]=e,-1===this.t.types.indexOf(t)&&this.t.types.push(t)}},t.prototype.getData=function(t){if(1===this.t.mode||2===this.t.mode)return this.t.data[t]||""},t.prototype.clearData=function(t){if(2===this.t.mode){if(t&&this.t.data[t]){delete this.t.data[t];var e=this.t.types.indexOf(t);return void(e>-1&&this.t.types.splice(e,1))}this.t.data={},this.t.types=[]}},t.prototype.setDragImage=function(t,e,n){2===this.t.mode&&this.i(t,e,n)},t}();function m(t,e){return t?t===n[0]?r[0]:0===t.indexOf(n[1])||t===n[7]?r[1]:0===t.indexOf(n[4])?r[3]:t===n[6]?r[2]:r[1]:3===e.nodeType&&"A"===e.tagName?r[3]:r[1]}function g(t,e,n,r,o,i,a){void 0===i&&(i=!0),void 0===a&&(a=null);var s=function(t,e,n,r,o,i,a){void 0===a&&(a=null);var s=e.changedTouches[0],u=new Event(n,{bubbles:!0,cancelable:r});u.dataTransfer=i,u.relatedTarget=a,u.screenX=s.screenX,u.screenY=s.screenY,u.clientX=s.clientX,u.clientY=s.clientY,u.pageX=s.pageX,u.pageY=s.pageY;var l=t.getBoundingClientRect();return u.offsetX=u.clientX-l.left,u.offsetY=u.clientY-l.top,u}(e,n,t,i,document.defaultView,o,a),u=!e.dispatchEvent(s);return r.mode=0,u}function v(t,e){if(!t||t===n[7])return e;if(e===r[1]){if(0===t.indexOf(r[1]))return r[1]}else if(e===r[3]){if(0===t.indexOf(r[3])||t.indexOf("Link")>-1)return r[3]}else if(e===r[2]&&(0===t.indexOf(r[2])||t.indexOf("Move")>-1))return r[2];return r[0]}var y,w=function(){function t(t,e,n,r){this.h=t,this.o=e,this.u=n,this.l=r,this.v=0,this.p=null,this.g=null,this.m=t,this.I=t.changedTouches[0],this.j=this.S.bind(this),this.k=this.A.bind(this),a("touchmove",this.j,!1),a("touchend",this.k,!1),a("touchcancel",this.k,!1)}return t.prototype.O=function(){var t=this;this.v=1,this.C=r[0],this.D={data:{},effectAllowed:void 0,mode:3,types:[]},this.M={x:null,y:null},this.F={x:null,y:null};var e=this.u;if(this.N=new p(this.D,function(n,r,o){e=n,"number"!=typeof r&&"number"!=typeof o||(t.P={x:r||0,y:o||0})}),this.D.mode=2,this.N.dropEffect=r[0],g("dragstart",this.u,this.m,this.D,this.N))return this.v=3,this.T(),!1;f("page",this.m,this.F);var n,o=this.o.dragImageSetup(e);if(this.L=(n=o,d.map(function(t){var e=n.style[t+"transform"];return e&&"none"!==e?e.replace(/translate\(\D*\d+[^,]*,\D*\d+[^,]*\)\s*/g,""):""})),o.style.position="absolute",o.style.left="0px",o.style.top="0px",o.style.zIndex="999999",o.classList.add("dnd-poly-drag-image"),o.classList.add("dnd-poly-icon"),this._=o,!this.P)if(this.o.dragImageOffset)this.P={x:this.o.dragImageOffset.x,y:this.o.dragImageOffset.y};else if(this.o.dragImageCenterOnTouch){var i=getComputedStyle(e);this.P={x:0-parseInt(i.marginLeft,10),y:0-parseInt(i.marginTop,10)}}else{var a=e.getBoundingClientRect();i=getComputedStyle(e),this.P={x:a.left-this.I.clientX-parseInt(i.marginLeft,10)+a.width/2,y:a.top-this.I.clientY-parseInt(i.marginTop,10)+a.height/2}}return h(this._,this.F,this.L,this.P,this.o.dragImageCenterOnTouch),document.body.appendChild(this._),this.V=window.setInterval(function(){t.X||(t.X=!0,t.Y(),t.X=!1)},this.o.iterationInterval),!0},t.prototype.T=function(){this.V&&(clearInterval(this.V),this.V=null),s("touchmove",this.j),s("touchend",this.k),s("touchcancel",this.k),this._&&(this._.parentNode.removeChild(this._),this._=null),this.l(this.o,this.m,this.v)},t.prototype.S=function(t){var e=this;if(!1!==c(t,this.I.identifier)){if(this.m=t,0===this.v){var n=void 0;if(this.o.dragStartConditionOverride)try{n=this.o.dragStartConditionOverride(t)}catch(t){n=!1}else n=1===t.touches.length;return n?void(!0===this.O()&&(this.h.preventDefault(),t.preventDefault())):void this.T()}if(t.preventDefault(),f("client",t,this.M),f("page",t,this.F),this.o.dragImageTranslateOverride)try{var r=!1;if(this.o.dragImageTranslateOverride(t,{x:this.M.x,y:this.M.y},this.p,function(t,n){e._&&(r=!0,e.M.x+=t,e.M.y+=n,e.F.x+=t,e.F.y+=n,h(e._,e.F,e.L,e.P,e.o.dragImageCenterOnTouch))}),r)return}catch(t){}h(this._,this.F,this.L,this.P,this.o.dragImageCenterOnTouch)}},t.prototype.A=function(t){if(!1!==c(t,this.I.identifier)){if(this.o.dragImageTranslateOverride)try{this.o.dragImageTranslateOverride(void 0,void 0,void 0,function(){})}catch(t){}0!==this.v?(t.preventDefault(),this.v="touchcancel"===t.type?3:2):this.T()}},t.prototype.Y=function(){var t=this,n=this.C;this.D.mode=3,this.N.dropEffect=r[0];var o=g("drag",this.u,this.m,this.D,this.N);if(o&&(this.C=r[0]),o||2===this.v||3===this.v)return this.q(this.v)?void function(t,e,n,r){var o=getComputedStyle(t);if("hidden"!==o.visibility&&"none"!==o.display){e.classList.add("dnd-poly-snapback");var i=getComputedStyle(e),a=parseFloat(i.transitionDuration);if(isNaN(a)||0===a)r();else{var s=t.getBoundingClientRect(),u={x:s.left,y:s.top};u.x+=document.body.scrollLeft||document.documentElement.scrollLeft,u.y+=document.body.scrollTop||document.documentElement.scrollTop,u.x-=parseInt(o.marginLeft,10),u.y-=parseInt(o.marginTop,10);var l=parseFloat(i.transitionDelay),c=Math.round(1e3*(a+l));h(e,u,n,void 0,!1),setTimeout(r,c)}}else r()}(this.u,this._,this.L,function(){t.B()}):void this.B();var a=this.o.elementFromPoint(this.M.x,this.M.y),s=this.g;a!==this.p&&a!==this.g&&(this.p=a,null!==this.g&&(this.D.mode=3,this.N.dropEffect=r[0],g("dragexit",this.g,this.m,this.D,this.N,!1)),null===this.p?this.g=this.p:(this.D.mode=3,this.N.dropEffect=m(this.D.effectAllowed,this.u),g("dragenter",this.p,this.m,this.D,this.N)?(this.g=this.p,this.C=v(this.N.effectAllowed,this.N.dropEffect)):this.p!==document.body&&(this.g=document.body))),s!==this.g&&i(s)&&(this.D.mode=3,this.N.dropEffect=r[0],g("dragleave",s,this.m,this.D,this.N,!1,this.g)),i(this.g)&&(this.D.mode=3,this.N.dropEffect=m(this.D.effectAllowed,this.u),!1===g("dragover",this.g,this.m,this.D,this.N)?this.C=r[0]:this.C=v(this.N.effectAllowed,this.N.dropEffect)),n!==this.C&&this._.classList.remove(e+n);var u=e+this.C;this._.classList.add(u)},t.prototype.q=function(t){var e=this.C===r[0]||null===this.g||3===t;return e?i(this.g)&&(this.D.mode=3,this.N.dropEffect=r[0],g("dragleave",this.g,this.m,this.D,this.N,!1)):i(this.g)&&(this.D.mode=1,this.N.dropEffect=this.C,!0===g("drop",this.g,this.m,this.D,this.N)?this.C=this.N.dropEffect:this.C=r[0]),e},t.prototype.B=function(){this.D.mode=3,this.N.dropEffect=this.C,g("dragend",this.u,this.m,this.D,this.N,!1),this.v=2,this.T()},t}(),b={iterationInterval:150,tryFindDraggableTarget:function(t){var e=t.target;do{if(!1!==e.draggable&&e.getAttribute&&"true"===e.getAttribute("draggable"))return e}while((e=e.parentNode)&&e!==document.body)},dragImageSetup:function(t){var e=t.cloneNode(!0);return function t(e,n){if(1===e.nodeType){for(var r=getComputedStyle(e),o=0;o<r.length;o++){var i=r[o];n.style.setProperty(i,r.getPropertyValue(i),r.getPropertyPriority(i))}if(n.style.pointerEvents="none",n.removeAttribute("id"),n.removeAttribute("class"),n.removeAttribute("draggable"),"CANVAS"===n.nodeName){var a=e,s=n,u=a.getContext("2d").getImageData(0,0,a.width,a.height);s.getContext("2d").putImageData(u,0,0)}}if(e.hasChildNodes())for(o=0;o<e.childNodes.length;o++)t(e.childNodes[o],n.childNodes[o])}(t,e),e},elementFromPoint:function(t,e){return document.elementFromPoint(t,e)}};function x(t){if(!y){var e=b.tryFindDraggableTarget(t);if(e)try{y=new w(t,b,e,L)}catch(e){throw L(b,t,3),e}}}function E(t){var e=t.target,n=function(t){o.off(),i.off(),a.off(),clearTimeout(r)},r=window.setTimeout(function(){o.off(),i.off(),a.off(),x(t)},b.holdToDrag),o=u(e,"touchend",n),i=u(e,"touchcancel",n),a=u(window,"scroll",n,!0)}function L(t,e,n){if(0===n&&t.defaultActionOverride)try{t.defaultActionOverride(e),e.defaultPrevented}catch(t){}y=null}t.polyfill=function(t){if(t&&Object.keys(t).forEach(function(e){b[e]=t[e]}),!b.forceApply){var e=(n={dragEvents:"ondragstart"in document.documentElement,draggable:"draggable"in document.documentElement,userAgentSupportingNativeDnD:void 0},r=!!window.chrome||/chrome/i.test(navigator.userAgent),n.userAgentSupportingNativeDnD=!(/iPad|iPhone|iPod|Android/.test(navigator.userAgent)||r&&"ontouchstart"in document.documentElement),n);if(e.userAgentSupportingNativeDnD&&e.draggable&&e.dragEvents)return!1}var n,r;return b.holdToDrag?a("touchstart",E,!1):a("touchstart",x,!1),!0},Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){var r=n(3);t.exports=(r.default||r).template({1:function(t,e,n,r,o){var i,a=null!=e?e:t.nullContext||{},s=n.helperMissing,u=t.escapeExpression;return"    <img src="+u("function"==typeof(i=null!=(i=n.preview||(null!=e?e.preview:e))?i:s)?i.call(a,{name:"preview",hash:{},data:o}):i)+" data-share="+u("function"==typeof(i=null!=(i=n.share||(null!=e?e.share:e))?i:s)?i.call(a,{name:"share",hash:{},data:o}):i)+" data-width="+u("function"==typeof(i=null!=(i=n.width||(null!=e?e.width:e))?i:s)?i.call(a,{name:"width",hash:{},data:o}):i)+" data-height="+u("function"==typeof(i=null!=(i=n.height||(null!=e?e.height:e))?i:s)?i.call(a,{name:"height",hash:{},data:o}):i)+">\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,o){var i;return null!=(i=n.each.call(null!=e?e:t.nullContext||{},null!=e?e.gifs:e,{name:"each",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o}))?i:""},useData:!0})},function(t,e,n){var r=n(3);t.exports=(r.default||r).template({1:function(t,e,n,r,o){return'class="right-align"'},3:function(t,e,n,r,o){return"    <h5>Other player</h5>\n"},5:function(t,e,n,r,o){return"    <h5>You</h5>\n"},7:function(t,e,n,r,o){var i,a=null!=e?e:t.nullContext||{},s=n.helperMissing,u=t.escapeExpression;return"    <img src="+u("function"==typeof(i=null!=(i=n.url||(null!=e?e.url:e))?i:s)?i.call(a,{name:"url",hash:{},data:o}):i)+" width="+u("function"==typeof(i=null!=(i=n.width||(null!=e?e.width:e))?i:s)?i.call(a,{name:"width",hash:{},data:o}):i)+" height="+u("function"==typeof(i=null!=(i=n.height||(null!=e?e.height:e))?i:s)?i.call(a,{name:"height",hash:{},data:o}):i)+">\n"},9:function(t,e,n,r,o){var i;return"    "+t.escapeExpression("function"==typeof(i=null!=(i=n.message||(null!=e?e.message:e))?i:n.helperMissing)?i.call(null!=e?e:t.nullContext||{},{name:"message",hash:{},data:o}):i)+"\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,o){var i,a=null!=e?e:t.nullContext||{};return"<div "+(null!=(i=n.if.call(a,null!=e?e.other:e,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o}))?i:"")+">\n"+(null!=(i=n.if.call(a,null!=e?e.other:e,{name:"if",hash:{},fn:t.program(3,o,0),inverse:t.program(5,o,0),data:o}))?i:"")+(null!=(i=n.if.call(a,null!=e?e.url:e,{name:"if",hash:{},fn:t.program(7,o,0),inverse:t.program(9,o,0),data:o}))?i:"")+"</div>"},useData:!0})},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";var r=n(5);function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new r(t),e(n.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o(function(e){t=e}),cancel:t}},t.exports=o},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";var r=n(0);t.exports=function(t,e,n){return r.forEach(n,function(n){t=n(t,e)}),t}},function(t,e,n){"use strict";var r=n(0),o=n(19),i=n(6),a=n(4),s=n(18),u=n(17);function l(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return l(t),t.baseURL&&!s(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||a.adapter)(t).then(function(e){return l(t),e.data=o(e.data,e.headers,t.transformResponse),e},function(e){return i(e)||(l(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,n){"use strict";var r=n(0);function o(){this.handlers=[]}o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=o},function(t,e,n){"use strict";var r=n(0);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,o,i,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function o(){this.message="String contains an invalid character"}o.prototype=new Error,o.prototype.code=5,o.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,n,i=String(t),a="",s=0,u=r;i.charAt(0|s)||(u="=",s%1);a+=u.charAt(63&e>>8-s%1*8)){if((n=i.charCodeAt(s+=.75))>255)throw new o;e=e<<8|n}return a}},function(t,e,n){"use strict";var r=n(0);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=o(window.location.href),function(e){var n=r.isString(e)?o(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r=n(0),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,i,a={};return t?(r.forEach(t.split("\n"),function(t){if(i=t.indexOf(":"),e=r.trim(t.substr(0,i)).toLowerCase(),n=r.trim(t.substr(i+1)),e){if(a[e]&&o.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}}),a):a}},function(t,e,n){"use strict";var r=n(0);function o(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(r.isURLSearchParams(e))i=e.toString();else{var a=[];r.forEach(e,function(t,e){null!==t&&void 0!==t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(o(e)+"="+o(t))}))}),i=a.join("&")}return i&&(t+=(-1===t.indexOf("?")?"?":"&")+i),t}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,o){return t.config=e,n&&(t.code=n),t.request=r,t.response=o,t}},function(t,e,n){"use strict";var r=n(7);t.exports=function(t,e,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";var r=n(0);t.exports=function(t,e){r.forEach(t,function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])})}},function(t,e,n){"use strict";var r,o,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(t){r=a}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(t){o=s}}();var l,c=[],f=!1,d=-1;function h(){f&&l&&(f=!1,l.length?c=l.concat(c):d=-1,c.length&&p())}function p(){if(!f){var t=u(h);f=!0;for(var e=c.length;e;){for(l=c,c=[];++d<e;)l&&l[d].run();d=-1,e=c.length}l=null,f=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new m(t,e)),1!==c.length||f||u(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";var r=n(4),o=n(0),i=n(21),a=n(20);function s(t){this.defaults=t,this.interceptors={request:new i,response:new i}}s.prototype.request=function(t){"string"==typeof t&&(t=o.merge({url:arguments[0]},arguments[1])),(t=o.merge(r,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},o.forEach(["delete","get","head","options"],function(t){s.prototype[t]=function(e,n){return this.request(o.merge(n||{},{method:t,url:e}))}}),o.forEach(["post","put","patch"],function(t){s.prototype[t]=function(e,n,r){return this.request(o.merge(r||{},{method:t,url:e,data:n}))}}),t.exports=s},function(t,e,n){"use strict";
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(r(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,n){"use strict";var r=n(0),o=n(9),i=n(31),a=n(4);function s(t){var e=new i(t),n=o(i.prototype.request,e);return r.extend(n,i.prototype,e),r.extend(n,e),n}var u=s(a);u.Axios=i,u.create=function(t){return s(r.merge(a,t))},u.Cancel=n(5),u.CancelToken=n(16),u.isCancel=n(6),u.all=function(t){return Promise.all(t)},u.spread=n(15),t.exports=u,t.exports.default=u},function(t,e,n){"use strict";t.exports=n(33)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(34)),o=a(n(14)),i=a(n(13));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){var n=document.getElementById("sidebar-btn"),a=document.getElementById("sidebar"),s=document.getElementById("chat"),u=document.getElementById("message-text"),l=document.getElementById("gif-search"),c=document.getElementById("gif-btn"),f=document.getElementById("gifsearch"),d=document.getElementById("gifpreview"),h=[],p=null,m=null;function g(){r.default.get("/gif/trending",{params:{pos:p}}).then(function(t){h=t.data.results.map(function(t){return{preview:t.media[0].nanogif.url,share:t.media[0].tinygif.url,width:t.media[0].tinygif.dims[0],height:t.media[0].tinygif.dims[1]}}),p=t.data.next,d.innerHTML+=(0,i.default)({gifs:h})}).catch(function(t){console.log(t)})}function v(){r.default.get("/gif/search",{params:{pos:p,term:m}}).then(function(t){h=t.data.results.map(function(t){return{preview:t.media[0].nanogif.url,share:t.media[0].tinygif.url,width:t.media[0].tinygif.dims[0],height:t.media[0].tinygif.dims[1]}}),p=t.data.next,d.innerHTML+=(0,i.default)({gifs:h})}).catch(function(t){console.log(t)})}function y(){f.classList.contains("noshow")?(f.classList.remove("noshow"),0==h.length&&g()):f.classList.add("noshow")}return n.addEventListener("click",function(){a.classList.contains("nowidth")?(a.classList.remove("nowidth"),n.classList.contains("unread")&&n.classList.remove("unread")):a.classList.add("nowidth")}),u.addEventListener("keydown",function(n){13===n.keyCode&&(n.ctrlKey||(n.preventDefault(),t.emit("message",{room:e,message:u.value}),s.innerHTML+=(0,o.default)({other:!1,message:u.value}),u.value="",s.scrollTop=s.scrollHeight))}),c.addEventListener("click",y),d.addEventListener("scroll",function(){Math.round(d.offsetHeight)+Math.round(d.scrollTop)==Math.round(d.scrollHeight)&&(m?v():g())}),d.addEventListener("click",function(n){if("IMG"==n.target.nodeName){var r=n.target.attributes["data-share"].value,i=n.target.attributes["data-width"].value,a=n.target.attributes["data-height"].value;s.innerHTML+=(0,o.default)({other:!1,url:r,width:i,height:a}),s.scrollTop=s.scrollHeight,y(),t.emit("gif",{room:e,url:r,width:i,height:a})}}),f.addEventListener("keydown",function(t){13===t.keyCode&&(m=l.value,d.innerHTML="",v())}),{appendmessage:function(t){s.innerHTML+=(0,o.default)({other:!0,message:t}),s.scrollTop=s.scrollHeight,a.classList.contains("nowidth")&&n.classList.add("unread")},appendgif:function(t,e,r){s.innerHTML+=(0,o.default)({other:!0,url:t,width:e,height:r}),s.scrollTop=s.scrollHeight,a.classList.contains("nowidth")&&n.classList.add("unread")},clearmessage:function(){s.innerHTML="",s.innerHTML="<div>-- Beginning of the conversation --</div>"}}}},function(t,e,n){var r=n(3);t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,n,r,o){var i;return'<th>\n<div id="cell'+t.escapeExpression("function"==typeof(i=null!=(i=n.id||(null!=e?e.id:e))?i:n.helperMissing)?i.call(null!=e?e:t.nullContext||{},{name:"id",hash:{},data:o}):i)+'" class="stage">\n  <div class="base"></div>\n</div>\n</th>'},useData:!0})},function(t,e,n){var r=n(3);t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,n,r,o){var i,a=null!=e?e:t.nullContext||{},s=n.helperMissing,u=t.escapeExpression;return'<div class="stage">\n    <div id="piece'+u("function"==typeof(i=null!=(i=n.id||(null!=e?e.id:e))?i:s)?i.call(a,{name:"id",hash:{},data:o}):i)+'" class="'+u("function"==typeof(i=null!=(i=n.class||(null!=e?e.class:e))?i:s)?i.call(a,{name:"class",hash:{},data:o}):i)+'"> \n      <figure class="top"></figure>\n      <figure class="bottom"></figure>\n      <figure class="front"></figure>\n    </div>\n</div>'},useData:!0})},function(t,e,n){"use strict";var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":o(window))&&(r=window)}t.exports=r},function(t,e,n){"use strict";(function(n){e.__esModule=!0,e.default=function(t){var e=void 0!==n?n:window,r=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=r),t}},t.exports=e.default}).call(this,n(38))},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.__esModule=!0,e.checkRevision=function(t){var e=t&&t[0]||1,n=a.COMPILER_REVISION;if(e!==n){if(e<n){var r=a.REVISION_CHANGES[n],o=a.REVISION_CHANGES[e];throw new i.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+o+").")}throw new i.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}},e.template=function(t,e){if(!e)throw new i.default("No environment passed to template");if(!t||!t.main)throw new i.default("Unknown template object: "+(void 0===t?"undefined":r(t)));t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var n={strict:function(t,e){if(!(e in t))throw new i.default('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r]&&null!=t[r][e])return t[r][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:o.escapeExpression,invokePartial:function(n,r,a){a.hash&&(r=o.extend({},r,a.hash),a.ids&&(a.ids[0]=!0));n=e.VM.resolvePartial.call(this,n,r,a);var s=e.VM.invokePartial.call(this,n,r,a);null==s&&e.compile&&(a.partials[a.name]=e.compile(n,t.compilerOptions,e),s=a.partials[a.name](r,a));if(null!=s){if(a.indent){for(var u=s.split("\n"),l=0,c=u.length;l<c&&(u[l]||l+1!==c);l++)u[l]=a.indent+u[l];s=u.join("\n")}return s}throw new i.default("The partial "+a.name+" could not be compiled when running in runtime-only mode")},fn:function(e){var n=t[e];return n.decorator=t[e+"_d"],n},programs:[],program:function(t,e,n,r,o){var i=this.programs[t],a=this.fn(t);return e||o||r||n?i=s(this,t,a,e,n,r,o):i||(i=this.programs[t]=s(this,t,a)),i},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=o.extend({},e,t)),n},nullContext:Object.seal({}),noop:e.VM.noop,compilerInfo:t.compiler};function u(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=r.data;u._setup(r),!r.partial&&t.useData&&(o=function(t,e){e&&"root"in e||((e=e?a.createFrame(e):{}).root=t);return e}(e,o));var i=void 0,s=t.useBlockParams?[]:void 0;function c(e){return""+t.main(n,e,n.helpers,n.partials,o,s,i)}return t.useDepths&&(i=r.depths?e!=r.depths[0]?[e].concat(r.depths):r.depths:[e]),(c=l(t.main,c,n,r.depths||[],o,s))(e,r)}return u.isTop=!0,u._setup=function(r){r.partial?(n.helpers=r.helpers,n.partials=r.partials,n.decorators=r.decorators):(n.helpers=n.merge(r.helpers,e.helpers),t.usePartial&&(n.partials=n.merge(r.partials,e.partials)),(t.usePartial||t.useDecorators)&&(n.decorators=n.merge(r.decorators,e.decorators)))},u._child=function(e,r,o,a){if(t.useBlockParams&&!o)throw new i.default("must pass block params");if(t.useDepths&&!a)throw new i.default("must pass parent depths");return s(n,e,t[e],r,0,o,a)},u},e.wrapProgram=s,e.resolvePartial=function(t,e,n){t?t.call||n.name||(n.name=t,t=n.partials[t]):t="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name];return t},e.invokePartial=function(t,e,n){var r=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var s=void 0;n.fn&&n.fn!==u&&function(){n.data=a.createFrame(n.data);var t=n.fn;s=n.data["partial-block"]=function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=a.createFrame(n.data),n.data["partial-block"]=r,t(e,n)},t.partials&&(n.partials=o.extend({},n.partials,t.partials))}();void 0===t&&s&&(t=s);if(void 0===t)throw new i.default("The partial "+n.name+" could not be found");if(t instanceof Function)return t(e,n)},e.noop=u;var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),i=function(t){return t&&t.__esModule?t:{default:t}}(n(2)),a=n(10);function s(t,e,n,r,o,i,a){function s(e){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=a;return!a||e==a[0]||e===t.nullContext&&null===a[0]||(s=[e].concat(a)),n(t,e,t.helpers,t.partials,o.data||r,i&&[o.blockParams].concat(i),s)}return(s=l(n,s,t,a,r,i)).program=e,s.depth=a?a.length:0,s.blockParams=o||0,s}function u(){return""}function l(t,e,n,r,i,a){if(t.decorator){var s={};e=t.decorator(e,s,n,r&&r[0],i,a,r),o.extend(e,s)}return e}},function(t,e,n){"use strict";function r(t){this.string=t}e.__esModule=!0,r.prototype.toString=r.prototype.toHTML=function(){return""+this.string},e.default=r,t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var r=n(1),o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=r.indexOf(o.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=o.lookupLevel(t),"undefined"!=typeof console&&o.lookupLevel(o.level)<=t){var e=o.methodMap[t];console[e]||(e="log");for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];console[e].apply(console,r)}}};e.default=o,t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var r=n(1);e.default=function(t){t.registerDecorator("inline",function(t,e,n,o){var i=t;return e.partials||(e.partials={},i=function(o,i){var a=n.partials;n.partials=r.extend({},a,e.partials);var s=t(o,i);return n.partials=a,s}),e.partials[o.args[0]]=o.fn,i})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.registerDefaultDecorators=function(t){r.default(t)};var r=function(t){return t&&t.__esModule?t:{default:t}}(n(43))},function(t,e,n){"use strict";e.__esModule=!0;var r=n(1);e.default=function(t){t.registerHelper("with",function(t,e){r.isFunction(t)&&(t=t.call(this));var n=e.fn;if(r.isEmpty(t))return e.inverse(this);var o=e.data;return e.data&&e.ids&&((o=r.createFrame(e.data)).contextPath=r.appendContextPath(e.data.contextPath,e.ids[0])),n(t,{data:o,blockParams:r.blockParams([t],[o&&o.contextPath])})})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("lookup",function(t,e){return t&&t[e]})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("log",function(){for(var e=[void 0],n=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)e.push(arguments[r]);var o=1;null!=n.hash.level?o=n.hash.level:n.data&&null!=n.data.level&&(o=n.data.level),e[0]=o,t.log.apply(t,e)})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var r=n(1);e.default=function(t){t.registerHelper("if",function(t,e){return r.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||r.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers.if.call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var r=function(t){return t&&t.__esModule?t:{default:t}}(n(2));e.default=function(t){t.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new r.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e.default},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.__esModule=!0;var o=n(1),i=function(t){return t&&t.__esModule?t:{default:t}}(n(2));e.default=function(t){t.registerHelper("each",function(t,e){if(!e)throw new i.default("Must pass iterator to #each");var n=e.fn,a=e.inverse,s=0,u="",l=void 0,c=void 0;function f(e,r,i){l&&(l.key=e,l.index=r,l.first=0===r,l.last=!!i,c&&(l.contextPath=c+e)),u+=n(t[e],{data:l,blockParams:o.blockParams([t[e],e],[c+e,null])})}if(e.data&&e.ids&&(c=o.appendContextPath(e.data.contextPath,e.ids[0])+"."),o.isFunction(t)&&(t=t.call(this)),e.data&&(l=o.createFrame(e.data)),t&&"object"===(void 0===t?"undefined":r(t)))if(o.isArray(t))for(var d=t.length;s<d;s++)s in t&&f(s,s,s===t.length-1);else{var h=void 0;for(var p in t)t.hasOwnProperty(p)&&(void 0!==h&&f(h,s-1),h=p,s++);void 0!==h&&f(h,s-1,!0)}return 0===s&&(u=a(this)),u})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var r=n(1);e.default=function(t){t.registerHelper("blockHelperMissing",function(e,n){var o=n.inverse,i=n.fn;if(!0===e)return i(this);if(!1===e||null==e)return o(this);if(r.isArray(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):o(this);if(n.data&&n.ids){var a=r.createFrame(n.data);a.contextPath=r.appendContextPath(n.data.contextPath,n.name),n={data:a}}return i(e,n)})},t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.registerDefaultHelpers=function(t){o.default(t),i.default(t),a.default(t),s.default(t),u.default(t),l.default(t),c.default(t)};var o=r(n(51)),i=r(n(50)),a=r(n(49)),s=r(n(48)),u=r(n(47)),l=r(n(46)),c=r(n(45))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}e.__esModule=!0;var i=o(n(10)),a=r(n(41)),s=r(n(2)),u=o(n(1)),l=o(n(40)),c=r(n(39));function f(){var t=new i.HandlebarsEnvironment;return u.extend(t,i),t.SafeString=a.default,t.Exception=s.default,t.Utils=u,t.escapeExpression=u.escapeExpression,t.VM=l,t.template=function(e){return l.template(e,t)},t}var d=f();d.create=f,c.default(d),d.default=d,e.default=d,t.exports=e.default},function(t,e,n){var r=n(3);t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,n,r,o){var i,a=null!=e?e:t.nullContext||{},s=n.helperMissing,u=t.escapeExpression;return'<div class="stage">\n    <div id="piece'+u("function"==typeof(i=null!=(i=n.id||(null!=e?e.id:e))?i:s)?i.call(a,{name:"id",hash:{},data:o}):i)+'" class="'+u("function"==typeof(i=null!=(i=n.class||(null!=e?e.class:e))?i:s)?i.call(a,{name:"class",hash:{},data:o}):i)+'">\n      <figure class="back"></figure>\n      <figure class="top"></figure>\n      <figure class="bottom"></figure>\n      <figure class="left"></figure>\n      <figure class="right"></figure>\n      <figure class="front"></figure>\n    </div>\n</div>'},useData:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(54)),o=a(n(37)),i=a(n(36));function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(){var t,e,n,a,s,u,l=["cylinder hole","cylinder hole dark","cube hole","cube hole dark","cylinder hole short","cylinder hole short dark","cube hole short","cube hole short dark","cylinder","cylinder dark","cube","cube dark","cylinder short","cylinder short dark","cube short","cube short dark"];function c(t){return[].concat.apply([],t)}function f(t){var e={};return e.row=Math.floor(t/4),e.col=t%4,e}return{start:function(){t=null,e=Array.apply(null,Array(4)).map(function(){return[0,0,0,0]}),n=Array.apply(null,Array(4)).map(function(){return[0,0,0,0]}),a=Array.apply(null,Array(4)).map(function(){return[0,0,0,0]}),s=Array.apply(null,Array(4)).map(function(){return[0,0,0,0]}),u=Array.apply(null,Array(4)).map(function(){return[0,0,0,0]})},getAllPieces:function(){return l.reduce(function(t,e,n){return e.match("cube")?t+(0,r.default)({class:e,id:n}):t+(0,o.default)({class:e,id:n})},"")},getAllCells:function(){for(var t="",e=0;e<4;e++){for(var n="",r=0;r<4;r++)n+=(0,i.default)({id:4*e+r});t+="<tr>"+n+"</tr>"}return t},update:function(r,o){var i=f(Number(r.slice(4)));t=i,e[i.row][i.col]=1,o.match("cylinder")&&(n[i.row][i.col]=1),o.match("hole")&&(a[i.row][i.col]=1),o.match("dark")&&(s[i.row][i.col]=1),o.match("short")&&(u[i.row][i.col]=1)},alreadyPlaced:function(t){var n=f(Number(t.slice(4)));return 1==e[n.row][n.col]},quarto:function(){if(t){var r=[],o=[[t.row,0],[t.row,1],[t.row,2],[t.row,3]];4===o.reduce(function(t,n){return t+e[n[0]][n[1]]},0)&&r.push(o);var i=[[0,t.col],[1,t.col],[2,t.col],[3,t.col]];if(4===i.reduce(function(t,n){return t+e[n[0]][n[1]]},0)&&r.push(i),t.col===t.row){var l=[[0,0],[1,1],[2,2],[3,3]];4===l.reduce(function(t,n){return t+e[n[0]][n[1]]},0)&&r.push(l)}if(t.col+t.row===3){var f=[[0,3],[1,2],[2,1],[3,0]];4===f.reduce(function(t,n){return t+e[n[0]][n[1]]},0)&&r.push(f)}var d=[n,a,s,u].map(function(t){return function(t,e){return t.filter(function(t){var n=t.reduce(function(t,n){return t+e[n[0]][n[1]]},0);return 0==n||4==n})}.apply(null,[r,t])});return d=(d=c(c(d=d.filter(function(t){return t.length>0})))).map(function(t){return function(t){return 4*t[0]+t[1]}(t)}).filter(function(t,e,n){return n.indexOf(t)===e})}return[]}}}()},function(t,e,n){"use strict";var r=s(n(55)),o=s(n(35)),i=n(12),a=n(11);function s(t){return t&&t.__esModule?t:{default:t}}!function(){var t=io.connect(window.location.hostname),e=document.getElementById("waitzone"),n=document.getElementById("messagebox"),s=document.getElementById("info"),u=document.getElementById("gameinfo"),l=document.getElementById("overlay"),c=document.getElementById("placezone"),f=document.getElementById("askreplay"),d=(0,o.default)(t,room),h={waitforjoin:"Waiting for a new player to join the game",waitforreplay:"Waiting for the other player to join the game",roomfull:"The game that you try to join is full. Please try another game",notexist:"The game that you try to join does not exist. Please try another game",waitformove:"Waiting for the other player to act",ready:"Game ready to start! Waiting for the other player to act",give:'Click a piece to give it to the other player or click <em id="quarto">Quarto!</em> here if you think you just made a line',place:"Drap the highlighted piece and drop on the desired cell",won:"You won!",lost:"You lost. The other player just found a Quarto",wrong:"No Quarto found with the piece that you just placed...",left:"The other player just left"},p=[];function m(){r.default.start(),e.classList.remove("selectable"),e.innerHTML=r.default.getAllPieces(),c.innerHTML=r.default.getAllCells()}function g(){l.classList.remove("hide"),f.classList.remove("hide"),f.addEventListener("click",v)}function v(e){var n=e.target;"left"==n.className?(m(),f.classList.add("hide"),f.removeEventListener("click",v),t.emit("replay",{room:room,replay:!0})):"right"==n.className&&(t.emit("replay",{room:room,replay:!1}),t.disconnect(),f.classList.add("hide"),f.removeEventListener("click",v))}function y(n){var r=n.target;"FIGURE"==r.nodeName&&((r=r.parentElement).setAttribute("draggable","true"),e.removeEventListener("click",y),e.classList.remove("selectable"),t.emit("given",{pieceid:r.id,room:room}),0===document.title.indexOf("*")&&(document.title=document.title.slice(1)))}function w(t){t.forEach(function(t){var e=document.getElementById("cell"+t);e.classList.add("highlight"),p.push(window.setTimeout(function(){e.classList.remove("highlight")},1e3)),p.push(window.setTimeout(function(){e.classList.add("highlight")},2e3))})}t.on("tell room",function(){t.emit("room name",{room:room})}),t.on("wait for other",function(){l.classList.remove("hide"),n.innerHTML=h.waitforjoin}),t.on("wait for replay",function(){p.forEach(clearTimeout),n.innerHTML=h.waitforreplay}),t.on("ready to start",function(){m(),d.clearmessage(),n.innerHTML=h.ready}),t.on("room full",function(){n.innerHTML=h.roomfull}),t.on("not exist",function(){n.innerHTML=h.notexist}),t.on("pick one",function(){0!==document.title.indexOf("*")&&(document.title="*"+document.title),l.classList.add("hide"),n.innerHTML=h.give,e.addEventListener("click",y),e.classList.add("selectable")}),t.on("wait",function(){l.classList.remove("hide"),n.innerHTML=h.waitformove}),t.on("toplace",function(t){0!==document.title.indexOf("*")&&(document.title="*"+document.title),l.classList.add("hide"),function(t){document.getElementById(t).setAttribute("draggable","true")}(t.pieceid),n.innerHTML=h.place}),t.on("tochange",function(t){!function(t,e,n){r.default.update(e,n);var o=document.getElementById(t);o.removeAttribute("draggable");var i=document.getElementById(e);o.parentElement.removeChild(o),i.append(o)}(t.pieceid,t.cellid,t.classname)}),t.on("otherwon",function(t){w(t.pieceid),0!==document.title.indexOf("*")&&(document.title="*"+document.title),n.innerHTML=h.lost,p.push(window.setTimeout(function(){g(),document.title=document.title.slice(1)},3e3))}),t.on("player left",function(){0!==document.title.indexOf("*")&&(document.title="*"+document.title),p.forEach(clearTimeout),p=[],n.innerHTML=h.left,l.classList.remove("hide"),p.push(window.setTimeout(function(){n.innerHTML=h.waitforjoin,document.title=document.title.slice(1)},3e3))}),t.on("new message",function(t){d.appendmessage(t.message)}),t.on("new gif",function(t){d.appendgif(t.url,t.width,t.height)}),(0,i.polyfill)({dragImageTranslateOverride:a.scrollBehaviourDragImageTranslateOverride}),e.addEventListener("dragstart",function(t){var e=t.target;"FIGURE"==e.nodeName&&(e=e.parentElement),t.dataTransfer.setData("text",e.id)}),c.addEventListener("dragover",function(t){t.preventDefault();var e=t.target;"DIV"!==e.tagName?t.dataTransfer.dropEffect="none":(e.className.match("base")&&(e=e.parentElement),r.default.alreadyPlaced(e.id)&&(t.dataTransfer.dropEffect="none"))}),c.addEventListener("dragenter",function(t){if(t.preventDefault(),"DIV"==t.target.tagName){var e=t.target;e.className.match("base")&&(e=e.parentElement),r.default.alreadyPlaced(e.id)||e.classList.add("shine")}}),c.addEventListener("dragleave",function(t){if(t.preventDefault(),"DIV"==t.target.tagName){var e=t.target;e.className.match("base")&&(e=e.parentElement),r.default.alreadyPlaced(e.id)||e.classList.remove("shine")}}),c.addEventListener("drop",function(o){if(o.preventDefault(),"DIV"==o.target.tagName){var i=o.target;if(i.className.match("base")&&(i=i.parentElement),!r.default.alreadyPlaced(i.id)){i.classList.remove("shine");var a=o.dataTransfer.getData("text"),s=document.getElementById(a);s.removeAttribute("draggable"),i.append(s),n.innerHTML=h.give,t.emit("placed",{pieceid:a,cellid:i.id,classname:s.className,room:room}),r.default.update(i.id,s.className),e.addEventListener("click",y),e.classList.add("selectable")}}}),n.addEventListener("click",function(o){if("quarto"==o.target.id){var i=r.default.quarto();i.length>0?(0===document.title.indexOf("*")&&(document.title=document.title.slice(1)),w(i),n.innerHTML=h.won,e.removeEventListener("click",y),e.classList.remove("selectable"),t.emit("won",{pieceid:i,room:room}),p.push(window.setTimeout(function(){g()},3e3))):(n.innerHTML=h.wrong,p.push(window.setTimeout(function(){n.innerHTML=h.give},3e3)))}}),s.addEventListener("click",function(){u.classList.remove("hide")}),u.addEventListener("click",function(t){"close"==t.target.className&&u.classList.add("hide")}),m()}()}]);
//# sourceMappingURL=bundle.js.map